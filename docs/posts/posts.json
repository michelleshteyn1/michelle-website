[
  {
    "path": "posts/2021-02-04-welcome/",
    "title": "Palmetto Binary Logistic Regression",
    "description": "This post shares my exploration of Florida palmetto data through visualizations and binary logistic regression. Data source: Abrahamson, 2019.",
    "author": [
      {
        "name": "Michelle Shteyn",
        "url": {}
      }
    ],
    "date": "2021-02-04",
    "categories": [],
    "contents": "\nFor my ESM244 class, I had a lot of fun learning how to conduct exploratory data visualizations on various palmetto plant variables using GGally::ggpairs(). I conducted binary logistic regression and produced a finalized table showing the number and percentage of S. repens and S. etonia palmettos correctly or incorrectly classified by my binary logistic regression model including 4 predictor variables and using a 50% cutoff.\nInitial Data Wrangling:\n\nhide\n#Attach required packages\nlibrary(here)\nlibrary(tidyverse)\nlibrary(broom)\nlibrary(GGally)\nlibrary(jtools)\nlibrary(kableExtra)\n\n#Read in data\npalm <- read_csv(here(\"data\",\"palmetto.csv\")) %>% \n  mutate(species = as.factor(species)) %>% \n  mutate(species = case_when(\n    species==1~\"S. repens\",\n    species==2~\"S. etonia\"\n  ))\n\n\n\nExplore Differences between Two Palmetto Species:\n\nhide\n###Exploration with `ggpairs`\npalm %>% \n  select(height,length,width,green_lvs, species) %>% \n  ggpairs(aes(color = species))+\n  labs(title = \"Differences in Height, Canopy Length, Canopy Width, and Green Leaves\\nfor S. etonia and S. repens Palmetto Species, 1981 - 2017\" )+\n  theme_bw()\n\n\n\n\nFigure 1. Exploring relationships among explanatory variables height, length, width, and number of green leaves of two dominant palmetto species of south-central Florida, ongoing at 5-year intervals. Source: Abrahamson, 2019.\nThis visualization demonstrates that, for both Palmetto species, the variables of height, length, and width are strongly related; however, the distributions in number of green leaves for the two species are quite different, with S. repens’ distribution being more platykurtic than S. etonia’s.\nBinary Logistic Regression:\nTable 1. Coefficients for the predictor variables (plant height, canopy length, canopy width and green leaves) that relate to the log odds of the S. etonia outcome:\n\nhide\n#Conduct blr\npalm1 <- read_csv(here(\"data\",\"palmetto.csv\")) %>% #Convert `species` to factor\n  mutate(species = as.factor(species)) \n\npalm1_blr <- glm(species ~ height + length + width + green_lvs, \n                            data = palm1, \n                            family = \"binomial\")\n\n# Get a tidy version w/ broom: \nblr_tidy <- broom::tidy(palm1_blr)\n\n\nblr_tidy %>% \n  kable(col.names = c(\"Explanatory Variable\",\n                      \"Coefficient\",\n                      \"Std. Error for Coefficient\",\n                      \"T-Statistic\",\n                      \"P Value\"),\n        digits = c(3, 3, 3))%>% \n  kable_styling(bootstrap_options = \"striped\", full_width = FALSE, position = \"left\")\n\n\n\nExplanatory Variable\n\n\nCoefficient\n\n\nStd. Error for Coefficient\n\n\nT-Statistic\n\n\nP Value\n\n\n(Intercept)\n\n\n3.227\n\n\n0.142\n\n\n22.712\n\n\n0\n\n\nheight\n\n\n-0.029\n\n\n0.002\n\n\n-12.670\n\n\n0\n\n\nlength\n\n\n0.046\n\n\n0.002\n\n\n24.556\n\n\n0\n\n\nwidth\n\n\n0.039\n\n\n0.002\n\n\n18.782\n\n\n0\n\n\ngreen_lvs\n\n\n-1.908\n\n\n0.039\n\n\n-49.107\n\n\n0\n\n\nFind actual probabilities associated with a palmetto being S. repens or S. etonia\nTable 2. Number and percentage of S. repens and S. etonia palmettos correctly or incorrectly classified by our binary logistic regression model using 4 predictor variables (plant height, canopy length, canopy width and green leaves), using a 50% cutoff. Source: Abrahamson, 2019.\n\nhide\nblr_fitted <- palm1_blr %>% \n    broom::augment(type.predict = \"response\") %>% \n  mutate(species = as.numeric(species)) %>% \n  select(-.rownames) %>% \n  round(digits = 3)\n\nblr_fitted <- blr_fitted %>% \n  mutate(species = case_when(\n    species==1~\"S. repens\",\n    species==2~\"S. etonia\"\n  )) \n\nblr_fitted_1<-blr_fitted %>% \n  select(species, .fitted) %>% \n  mutate(final_classification = case_when(\n    .fitted >= .50 ~ \"S. etonia\",              #Since S. repens is the reference variable, a probability > 50% classifies it as S. etonia\n   .fitted < .50 ~ \"S. repens\")) %>% \n  mutate(correct = case_when(\n    species==\"S. repens\" & final_classification==\"S. repens\" ~ \"Correct\",\n    species==\"S. repens\" & final_classification==\"S. etonia\" ~ \"Incorrect\",\n    species==\"S. etonia\" & final_classification==\"S. etonia\" ~ \"Correct\",\n    species==\"S. etonia\" & final_classification==\"S. repens\" ~ \"Incorrect\",\n  ))\n\nblr_fitted_1 %>% \n  group_by(species, correct) %>% \nsummarize(count = n(),\n          percent = n()/12267*100) %>%  #11267 is the total n, Correct + Incorrect\n  kable(col.names = c(\"Species\",\n                      \"Final Classification Category\",\n                      \"Number of plants correctly or incorrectly classified\",\n                      \"Percent of plants correctly or incorrectly classified\"\n  )) %>% \n  kable_styling(bootstrap_options = \"striped\", full_width = FALSE, position = \"left\")\n\n\n\nSpecies\n\n\nFinal Classification Category\n\n\nNumber of plants correctly or incorrectly classified\n\n\nPercent of plants correctly or incorrectly classified\n\n\nS. etonia\n\n\nCorrect\n\n\n5702\n\n\n46.482433\n\n\nS. etonia\n\n\nIncorrect\n\n\n453\n\n\n3.692834\n\n\nS. repens\n\n\nCorrect\n\n\n5547\n\n\n45.218880\n\n\nS. repens\n\n\nIncorrect\n\n\n565\n\n\n4.605853\n\n\n\n\n\n",
    "preview": "posts/2021-02-04-welcome/welcome_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2021-02-04T11:06:37-08:00",
    "input_file": {}
  }
]
